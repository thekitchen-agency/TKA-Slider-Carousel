import{g as p,D as W}from"./Draggable-BIBO0-Gf.js";/* empty css                            */class I{constructor(){this.events={}}on(i,n){return this.events[i]||(this.events[i]=[]),this.events[i].push(n),{off:()=>this.off(i,n)}}off(i,n){this.events[i]&&(this.events[i]=this.events[i].filter(e=>e!==n))}emit(i,n=null){this.events[i]&&this.events[i].forEach(e=>e(n))}}function P(t,i,n){return{root:null,track:null,slides:[],mount(){this.root=t.container,this.track=this.root.querySelector(".tka-slider__track"),this.root.classList.add(`tka-slider--${t.options.type}`),this.collectSlides()},collectSlides(){this.slides=Array.from(this.track.children)}}}function Y(t,i,n){return{x:0,slideWidth:0,mount(){this.calculate(),window.addEventListener("resize",()=>{this.calculate(),n.emit("resize")})},calculate(){const{Html:e}=i,{perView:s,gap:o}=t.options,a=e.root.offsetWidth;this.slideWidth=(a-o*(s-1))/s,e.slides.forEach(l=>{l.style.width=`${this.slideWidth}px`,l.style.marginRight=`${o}px`}),t.log(`Track calculated: slideWidth=${this.slideWidth}`)},getCoordinate(e){const{gap:s}=t.options;return e*(this.slideWidth+s)-this.getOffset()},getOffset(){const{focusAt:e,gap:s}=t.options,{Html:o}=i;return e==="center"?o.root.offsetWidth/2-this.slideWidth/2:typeof e=="number"?e*(this.slideWidth+s):0}}}function $(t,i,n){return{tween:null,mount(){this.bind()},bind(){n.on("resize",()=>{this.to(t.state.index,{duration:0})})},to(e,s={}){const{Track:o,Html:a}=i,{animationDuration:l,animationEase:c,type:h}=t.options,d=s.duration!==void 0?s.duration:l/1e3,v=s.ease||c;if(this.tween&&this.tween.kill(),(h==="fade"||h==="fan")&&t.options.loop){const y=a.slides.length;e>=y&&(e=0),e<0&&(e=y-1)}if(t.state.index=e,t.state.animationDuration=d,h==="fade"||h==="fan"){n.emit("move",{x:0}),n.emit("move.after",{index:t.state.index});return}const w=o.getCoordinate(e);this.tween=p.to(a.track,{x:-w,duration:d,ease:v,onUpdate:()=>{n.emit("move",{x:p.getProperty(a.track,"x")})},onComplete:()=>{t.state.animationDuration=0;let y=!1;t.options.loop&&(y=this.loop(t.state.index)),y||n.emit("move.after",{index:t.state.index})}})},loop(e){const{Track:s,Html:o}=i,a=t.clonesCount||0,l=o.slides.length-a*2,c=.001;return e<a-c?(this.jump(e+l),!0):e>l+a-1+c?(this.jump(e-l),!0):!1},jump(e){const{Track:s,Html:o}=i,{type:a}=t.options;if(t.state.index=e,a==="fade"||a==="fan"){n.emit("move",{x:0,jump:!0}),n.emit("move.after",{index:e});return}const l=s.getCoordinate(e);p.set(o.track,{x:-l}),n.emit("move",{x:-l,jump:!0}),n.emit("move.after",{index:e})}}}function F(t,i,n){return{draggable:null,mount(){this.init()},init(){p.registerPlugin(W);const{Html:e,Move:s,Track:o}=i,a=t.options.type==="fan",l=t.options.type==="fade";this.draggable=W.create(e.track,{type:a?"x,y":"x",trigger:e.root,edgeResistance:.65,inertia:!0,onDragStart:()=>{t.state.isDragging=!0,s.tween&&s.tween.kill(),n.emit("drag.start")},onDrag:function(){const c=t.options.swipeThreshold||80;if(l||a){if(Math.sqrt(this.x*this.x+this.y*this.y)>c*3){this.endDrag();return}p.set(e.track,{x:0,y:0}),n.emit("drag",{x:this.x,y:this.y});return}n.emit("drag",{x:this.x})},onDragEnd:function(){if(t.state.isDragging=!1,l||a){p.set(e.track,{x:0,y:0});const w=t.options.swipeThreshold||80;Math.sqrt(this.x*this.x+this.y*this.y)>w?a?this.x>0?s.to(t.state.index-1):s.to(t.state.index+1):this.getDirection()==="left"?s.to(t.state.index+1):this.getDirection()==="right"&&s.to(t.state.index-1):n.emit("move",{x:0}),n.emit("drag.end");return}const c=this.x,h=o.slideWidth+t.options.gap,d=o.getOffset();let v=Math.round((d-c)/h);t.options.loop||(v=Math.max(0,Math.min(v,e.slides.length-1))),s.to(v)}})[0]},disable(){this.draggable&&this.draggable.disable()},enable(){this.draggable&&this.draggable.enable()}}}function B(t,i,n){return{items:[],mount(){t.options.loop&&t.options.type!=="fade"&&t.options.type!=="fan"?this.run():t.clonesCount=0},remove(){const{Html:e}=i;e.track.querySelectorAll(".tka-slider__slide--clone").forEach(s=>s.remove()),e.collectSlides()},run(){this.remove();const{Html:e}=i,{perView:s,breakpoints:o}=t.options;let a=s;o&&Object.values(o).forEach(d=>{d.perView>a&&(a=d.perView)});const l=Math.ceil(a),c=e.slides;t.clonesCount=l;const h=c.slice(0,l).map(d=>d.cloneNode(!0));c.slice(-l).map(d=>d.cloneNode(!0)).reverse().forEach(d=>{d.classList.add("tka-slider__slide--clone"),e.track.insertBefore(d,e.track.firstChild)}),h.forEach(d=>{d.classList.add("tka-slider__slide--clone"),e.track.appendChild(d)}),i.Html.collectSlides(),i.Track.calculate(),t.state.index+=l,t.log(`Cloned ${l} slides on each side.`)}}}function N(t,i,n){return{mount(){this.bind(),this.update()},bind(){n.on("move.after",()=>{this.update()})},update(){const{Html:e}=i,{index:s}=t.state;e.slides.forEach((o,a)=>{a===s?o.classList.contains("is-active")||(o.classList.add("is-active"),n.emit("slide.active",{index:a,slide:o})):o.classList.contains("is-active")&&(o.classList.remove("is-active"),n.emit("slide.inactive",{index:a,slide:o}))})}}}function G(t,i,n){return{interval:null,mount(){t.options.autoplay&&(this.start(),this.bind())},bind(){const{Html:e}=i;t.options.hoverPause&&(e.root.addEventListener("mouseenter",()=>this.stop()),e.root.addEventListener("mouseleave",()=>this.start())),n.on("drag.start",()=>this.stop()),n.on("drag.end",()=>{t.options.autoplay&&this.start()})},start(){t.options.autoplay&&(this.stop(),this.interval=setInterval(()=>{const{Move:e}=i;e.to(t.state.index+1)},typeof t.options.autoplay=="number"?t.options.autoplay:3e3))},stop(){this.interval&&(clearInterval(this.interval),this.interval=null)}}}function X(t,i,n){return{prevItems:[],nextItems:[],mount(){this.bind()},bind(){const{Html:e}=i;e.root.querySelectorAll("[data-tka-control]").forEach(s=>{const o=s.getAttribute("data-tka-control");s.addEventListener("click",a=>{a.preventDefault(),this.move(o)}),o==="<"&&this.prevItems.push(s),o===">"&&this.nextItems.push(s)})},move(e){const{Move:s}=i,{index:o}=t.state;if(e===">")s.to(o+1);else if(e==="<")s.to(o-1);else if(e.startsWith("=")){let a=parseInt(e.substring(1));t.options.loop&&t.options.type==="slide"&&(a+=t.clonesCount||0),s.to(a)}}}}function Z(t,i,n){return{wrapper:null,items:[],mount(){this.bind(),this.render()},bind(){n.on("move.after",()=>{this.active()}),n.on("mount.after",()=>{this.render()})},render(){const{Html:e}=i,{perView:s,loop:o}=t.options;if(this.wrapper=e.root.querySelector("[data-tka-bullets]"),!this.wrapper)return;this.wrapper.innerHTML="",this.items=[];const a=o?e.slides.length-t.clonesCount*2:e.slides.length;for(let l=0;l<a;l++){const c=document.createElement("button");c.className="tka-bullet",c.setAttribute("data-tka-bullet",l),c.addEventListener("click",h=>{h.preventDefault();const d=o?l+t.clonesCount:l;i.Move.to(d)}),this.wrapper.appendChild(c),this.items.push(c)}this.active()},active(){if(!this.wrapper)return;const{loop:e}=t.options,{index:s}=t.state;let o=s;if(e){const a=i.Html.slides.length-t.clonesCount*2;o=(s-t.clonesCount)%a,o<0&&(o+=a)}this.items.forEach((a,l)=>{l===o?a.classList.add("is-active"):a.classList.remove("is-active")})}}}function U(t,i,n){return{isRevealed:!1,mount(){this.bind();const{type:e,revealOnMount:s}=t.options;s?(this.isRevealed=!0,setTimeout(()=>this.reveal(),50)):(this.isRevealed=!1,setTimeout(()=>{this.update(p.getProperty(i.Html.track,"x"),!0)},10))},reveal(){const{type:e}=t.options;if(this.isRevealed=!0,e==="fan"){this.update(0,!0);const s=i.Html.slides.map(o=>o.querySelector(".demo-slide")||o.children[0]).filter(Boolean);p.from(s,{y:100,rotation:0,opacity:0,scale:.9,duration:.8,stagger:.1,ease:"back.out(1.2)",onComplete:()=>this.update(0,!0)})}else this.update(p.getProperty(i.Html.track,"x"),!0)},bind(){n.on("move",({x:e,jump:s})=>{this.update(e,s)}),n.on("drag",({x:e,y:s})=>{this.update(e,!1,s)}),n.on("resize",()=>{this.update(p.getProperty(i.Html.track,"x"),!0)})},update(e,s=!1,o=0){const{Html:a,Track:l}=i,{type:c,scaleOnCenter:h,scaleAmount:d,scaleRange:v,gap:w,animationEase:y}=t.options,z=l.slideWidth+w,q=s?0:t.state.animationDuration||0;a.slides.forEach((C,_)=>{let S=C.querySelector(".demo-slide")||C.children[0];if(!S)return;let A,O,m=_-t.state.index;const M=a.slides.length;t.options.loop&&(c==="fade"||c==="fan")&&(m=(_-t.state.index)%M,m>M/2&&(m-=M),m<-M/2&&(m+=M));const j=Math.abs(m);if(c==="fade"||c==="fan")A=j,O=m;else{const u=l.getCoordinate(_),b=e+u;A=Math.abs(b)/z,O=b/z}let f=1;if(h){const u=v||1;f=1-Math.min(A,u)/u*(1-d),f=Math.max(d,Math.min(1,f))}const r={overwrite:!0};if(c==="coverflow")r.rotationY=O*-30,r.z=A*-100,r.opacity=this.isRevealed?1-Math.min(A,2)*.2:0,r.scale=f;else if(c==="360"){const u=S.querySelector(".tka-360-container")||S,b=Array.from(u.children).filter(k=>k.classList.contains("tka-360-frame")||u.children.length>1),T=b.length;if(T>1){const k=t.options.rotationSpeed||1;let g=Math.round(-O*k)%T;g<0&&(g+=T),u._tka_last_frame!==g&&(b.forEach((E,L)=>{const H=L===g;E.style.opacity=H?"1":"0",E.style.visibility=H?"visible":"hidden",E.style.zIndex=H?"2":"1"}),u._tka_last_frame=g)}r.scale=f,r.opacity=this.isRevealed?1:0,r.x=0,r.y=0,r.rotationY=0}else if(c==="fade"||c==="fan"){if(c==="fade")r.opacity=this.isRevealed?Math.max(0,1-j):0,r.scale=f,r.z=0,r.x=0,r.y=0,r.rotation=0;else if(c==="fan"){const u=t.options.rotateFactor||15,b=t.options.scaleFactor||.1,T=t.options.fanTranslateY||5,k=t.options.fanSpace||160,g=t.options.fanTilt||15,E=t.options.fanTranslateZ||-100,L=t.options.activeRotation||0,H=t.options.activeScale!==void 0?t.options.activeScale:1,V=t.options.activeTranslateY||0;if(m===0)r.rotation=(t.state.isDragging?e/15:0)+L,r.rotationY=t.state.isDragging?e/8:0,r.rotationX=t.state.isDragging?-o/8:0,r.x=e,r.y=o+V,r.opacity=this.isRevealed?1:0,r.scale=H,r.z=150;else if(j===1){const R=m===1,D=t.state.isDragging?.2:0;r.scale=1-b,r.y=T+o*D,r.opacity=this.isRevealed?.9:0,r.z=E,r.rotationX=-5+o/20*D,r.x=(R?k:-k)+e*D,r.rotation=(R?u:-u)+e/10*D,r.rotationY=(R?g:-g)+e/20*D}else r.opacity=0,r.z=-300,r.scale=.5,r.x=(m>0?1:-1)*300,r.y=0;r.ease=t.options.fanEase||"power2.out",C.style.zIndex=m===0?20:10-j}}else r.scale=f,r.opacity=this.isRevealed?h&&f<1?.6:1:0,r.rotationY=0,r.z=0,r.rotation=0,r.x=0,r.y=0;_===t.state.index?C.classList.add("is-active"):C.classList.remove("is-active"),r.duration=q,r.ease||(r.ease=y),s?p.set(S,r):p.to(S,r)})}}}function J(t,i,n){return{originalOptions:null,mount(){this.originalOptions=Object.assign({},t.options),this.bind(),this.check()},bind(){window.addEventListener("resize",()=>{this.check()})},check(){const{breakpoints:e}=this.originalOptions;if(!e||Object.keys(e).length===0)return;const s=window.innerWidth;let o=null;const a=Object.keys(e).map(Number).sort((c,h)=>h-c);for(const c of a)s<=c&&(o=e[c]);const l=o?Object.assign({},this.originalOptions,o):this.originalOptions;(l.perView!==t.options.perView||l.gap!==t.options.gap||l.focusAt!==t.options.focusAt)&&this.apply(l)},apply(e){t.log("Applying breakpoint options:",e),t.options=Object.assign(t.options,e),i.Track&&i.Track.calculate(),i.Clones,i.Move&&i.Move.jump(t.state.index),n.emit("breakpoint.change",e)}}}function K(t,i,n){return{mount(){this.applyLabels(),t.options.keyboard&&this.bind()},bind(){const{Html:e}=i;e.root.setAttribute("tabindex","0"),e.root.addEventListener("keydown",s=>{const{Move:o}=i;s.key==="ArrowRight"?o.to(t.state.index+1):s.key==="ArrowLeft"&&o.to(t.state.index-1)})},applyLabels(){const{Html:e}=i,{loop:s}=t.options,o=t.clonesCount||0;e.root.setAttribute("role","region"),e.root.setAttribute("aria-label","Image Slider"),e.track.setAttribute("role","list"),e.slides.forEach((a,l)=>{let c=l;if(s){const h=e.slides.length-o*2;c=(l-o)%h,c<0&&(c+=h)}a.setAttribute("role","listitem"),a.setAttribute("aria-label",`Slide ${c+1}`)}),n.on("move.after",({index:a})=>{e.slides.forEach((l,c)=>{c===a?l.setAttribute("aria-hidden","false"):l.setAttribute("aria-hidden","true")})})}}}function Q(t,i,n){return{el:null,mount(){if(!t.options.pagination)return;const{Html:e}=i;this.el=typeof t.options.pagination=="string"?e.root.querySelector(t.options.pagination):e.root.querySelector("[data-tka-pagination]"),this.el&&(this.bind(),this.update())},bind(){n.on("move.after",()=>this.update())},update(){if(!this.el)return;const{Html:e}=i,{perView:s,loop:o}=t.options,a=o?e.slides.length-t.clonesCount*2:e.slides.length;let l=t.state.index;o&&(l=(t.state.index-t.clonesCount)%a,l<0&&(l+=a)),this.el.innerText=`${l+1} / ${a}`}}}const tt={Html:P,Track:Y,Move:$,Drag:F,Clones:B,Classes:N,Autoplay:G,Controls:X,Bullets:Z,Effects:U,Breakpoints:J,A11y:K,Pagination:Q};class x{constructor(i,n={}){this.selector=i,this.options=Object.assign(x.defaults,n),this.events=new I,this.state={index:0,isDragging:!1,animationDuration:0},this.clonesCount=0,this.components={},this.init()}static get defaults(){return{startAt:0,perView:1,focusAt:0,gap:0,loop:!1,autoplay:!1,hoverPause:!0,type:"slide",animationDuration:600,animationEase:"power2.out",pagination:!1,keyboard:!0,scaleGradual:!1,rotateFactor:15,scaleFactor:.1,fanTranslateY:5,fanSpace:160,activeRotation:0,activeScale:1,activeTranslateY:0,breakpoints:{},swipeThreshold:80,debug:!1,revealOnMount:!0}}init(){if(this.log("Initializing slider..."),this.container=typeof this.selector=="string"?document.querySelector(this.selector):this.selector,!this.container){console.error(`[TkaSlider] Container not found: ${this.selector}`);return}if(this.container.tka_slider)return this.log("Slider already attached to this element. Returning existing instance."),this.container.tka_slider;this.container.tka_slider=this,this.log("Slider initialized.")}log(...i){this.options.debug&&console.log("[TkaSlider]",...i)}mount(){if(this._isMounted)return this.log("Slider already mounted. Skipping."),this;this.events.emit("mount.before"),this._components=Object.assign({},tt,this.options.components);for(const i in this._components)typeof this._components[i]=="function"&&(this.components[i]=this._components[i](this,this.components,this.events));for(const i in this.components)this.components[i].mount&&this.components[i].mount();if(this._isMounted=!0,this.events.emit("mount.after"),this.components.Move){const i=this.options.startAt+(this.options.loop&&this.clonesCount||0);this.components.Move.jump(i)}return this}register(i){return this.options.components=Object.assign({},this.options.components,i),this}on(i,n){return this.events.on(i,n)}reveal(){return this.components.Effects&&this.components.Effects.reveal&&this.components.Effects.reveal(),this}go(i){if(this.components.Controls){const n=typeof i=="number"?`=${i}`:i;this.components.Controls.move(n)}return this}jump(i){let n=i;return this.options.loop&&this.options.type==="slide"&&(n+=this.clonesCount||0),this.components.Move&&this.components.Move.jump(n),this}}p.registerPlugin(W);new x("#slider-easing",{animationDuration:1200,animationEase:"elastic.out(1, 0.5)",loop:!0}).mount();new x("#slider-scaling",{perView:3,focusAt:"center",scaleOnCenter:!0,scaleAmount:.5,scaleRange:1.5,scaleGradual:!0,loop:!0,gap:20}).mount();new x("#slider-fan-pro",{type:"fan",fanSpace:280,rotateFactor:25,fanTilt:40,fanTranslateZ:-300,fanTranslateY:-50,swipeThreshold:120,loop:!0}).mount();new x("#slider-align",{startAt:2,focusAt:100,gap:20,perView:2,loop:!1}).mount();new x("#slider-auto",{autoplay:2e3,hoverPause:!0,keyboard:!0,loop:!0,pagination:!0}).mount();
